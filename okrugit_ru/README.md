# Document Heading
**Этот Bash-скрипт** \
представляет собой установщик звуковых уведомлений при подключении и отключении USB-устройств в системах Linux,\
использующих systemd и udev.

Общее описание функционала:
Скрипт автоматизирует настройку системы для воспроизведения звуковых файлов **(например, «USB подключён», «USB отключён»)** при физическом\
подсоединении или извлечении USB-устройств (таких как флешки, мыши, клавиатуры и т.п.). Дополнительно он может настраивать всплывающие уведомления с информацией об устройстве (например, название и номер порта).

Основные возможности:
Проверка зависимостей:

Проверяет наличие systemd, aplay (для воспроизведения звука), а также уведомительных утилит (notify-send или kdialog).
Проверяет доступ к dmesg, который нужен для определения имён USB-устройств.
Работа с dmesg:

Скрипт может включать или отключать ограничение доступа к dmesg через параметр kernel.dmesg_restrict. Это необходимо, чтобы обычные пользователи могли читать системные сообщения ядра и определять, какое устройство подключилось.
Использует конфигурационный файл /etc/sysctl.d/10-local.conf.
Выбор пользователя:

Автоматически обнаруживает пользователей системы (исключая системные аккаунты), позволяет выбрать, для кого настраивать уведомления (нужно для GUI-сессии и звука).
Установка компонентов:

Копирует звуковые файлы и иконку в /etc/sounds/.
Создаёт systemd-сервисы для запуска звуков при событиях.
Создаёт udev-правила, которые срабатывают при подключении/отключении USB и запускают соответствующие сервисы.
Уведомления (опционально):

Генерирует скрипт /etc/sounds/notify.sh, использующий notify-send (Linux) или kdialog (KDE) для отображения всплывающих сообщений с названием и именем tty-порта устройства.
Удаление (uninstall):

Очищает систему от всех созданных файлов: удаляет сервисы, правила udev и скрипты.
Интерактивное меню:

Предоставляет текстовое меню с цветовой подсветкой, где пользователь может:
Установить звуки (с уведомлениями или без),
Удалить установку,
Включить/отключить доступ к dmesg.
Итог:
Этот скрипт — это инструмент для пользовательской персонализации системы Linux, добавляющий аудио- и визуальные уведомления при работе с USB-устройствами. Он ориентирован на настольные системы и требует прав root. Особенно полезен в средах, где пользователь часто подключает/отключает устройства и хочет получать обратную связь от системы.
